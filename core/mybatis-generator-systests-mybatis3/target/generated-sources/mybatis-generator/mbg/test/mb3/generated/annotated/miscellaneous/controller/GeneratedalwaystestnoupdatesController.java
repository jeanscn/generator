/*
 * This class was generated by MyBatis Generator Vgosoft Edition.
 * 生成时间: 2021-05-08 18:00
 */
package mbg.test.mb3.generated.annotated.miscellaneous.controller;

import com.vgosoft.web.controller.abs.AbsBaseController;
import com.vgosoft.web.respone.ResponseList;
import com.vgosoft.web.respone.ResponseSimple;
import com.vgosoft.web.respone.ResponseSimpleImpl;
import com.vgosoft.web.respone.ResponseSimpleList;
import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import java.lang.reflect.Field;
import java.util.List;
import mbg.test.mb3.generated.annotated.miscellaneous.model.Generatedalwaystestnoupdates;
import mbg.test.mb3.generated.annotated.miscellaneous.model.example.GeneratedalwaystestnoupdatesCriteria;
import mbg.test.mb3.generated.annotated.miscellaneous.service.IGeneratedalwaystestnoupdates;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.servlet.ModelAndView;



@RestController
@Api(value = "/generatedalwaystestnoupdates", tags = "null")
@RequestMapping(value = "/miscellaneous")
class GeneratedalwaystestnoupdatesController extends AbsBaseController {
    private IGeneratedalwaystestnoupdates generatedalwaystestnoupdatesImpl;

    @Autowired
    public void setGeneratedalwaystestnoupdatesImpl(IGeneratedalwaystestnoupdates generatedalwaystestnoupdatesImpl) {
        this.generatedalwaystestnoupdatesImpl = generatedalwaystestnoupdatesImpl;
    }

    /**
    * 根据主键获取单个业务实例
    * @param id 可选参数，存在时查询数据；否则直接返回视图，用于打开表单。
    */
    @ApiOperation(value = "获得数据并返回页面视图（可用于普通业务在列表中新建接口）",notes = "根据给定id获取单个实体，id为可选参数，当id存在时查询数据，否则直接返回视图")
    @GetMapping(value = "generatedalwaystestnoupdatesImpl/view")
    public ModelAndView viewGeneratedalwaystestnoupdates(@RequestParam(required = false) String id) {
        ModelAndView mv = new ModelAndView("miscellaneous");
        try {
            if (id != null) {
                Generatedalwaystestnoupdates generatedalwaystestnoupdates = generatedalwaystestnoupdatesImpl.selectByPrimaryKey(id);
                mv.addObject("entity",generatedalwaystestnoupdates);
            }
        } catch (Exception e) {
            mv.setViewName("page/500");
            mv.addObject("error", e.getMessage());
        }
        return mv;
    }

    /** 根据主键获取单个实体 */
    @ApiOperation(value = "获得单条列表",notes = "根据给定id获取单个实体")
    @GetMapping(value = "generatedalwaystestnoupdatesImpl/{id}")
    public ResponseSimple getGeneratedalwaystestnoupdates(@PathVariable String id) {
        ResponseSimple responseSimple = new ResponseSimpleImpl();
        try {
            Generatedalwaystestnoupdates generatedalwaystestnoupdates = generatedalwaystestnoupdatesImpl.selectByPrimaryKey(id);
            responseSimple.addAttribute("entity", generatedalwaystestnoupdates);
        }catch(Exception e){
            setExceptionResponse(responseSimple,e);
        }
        return responseSimple;
    }

    /**
    * 获取条件实体对象列表
    * @param generatedalwaystestnoupdates 用于接收属性同名参数
    */
    @ApiOperation(value = "获得数据列表",notes = "根据给定条件获取多条或所有数据列表，可以根据需要传入属性同名参数")
    @GetMapping(value = "generatedalwaystestnoupdatesImpl")
    public ResponseSimple listGeneratedalwaystestnoupdates(Generatedalwaystestnoupdates generatedalwaystestnoupdates) {
        ResponseList responseSimple = new ResponseSimpleList();
        GeneratedalwaystestnoupdatesCriteria example = new GeneratedalwaystestnoupdatesCriteria();
        try {
            if (generatedalwaystestnoupdates != null) {
                List<Field> list = getFieldsIsNotEmpty(generatedalwaystestnoupdates);
                if (list.size() > 0) {
                    
                }
            }
            List<Generatedalwaystestnoupdates> generatedalwaystestnoupdatess = generatedalwaystestnoupdatesImpl.selectByExample(example);
            responseSimple.setList(generatedalwaystestnoupdatess);
        }catch(Exception e){
            setExceptionResponse(responseSimple,e);
        }
        return responseSimple;
    }

    /** 新增一条记录 */
    @ApiOperation(value = "新增一条记录",notes = "新增一条记录,返回json")
    @PostMapping(value = "generatedalwaystestnoupdatesImpl")
    public ResponseSimple createGeneratedalwaystestnoupdates(@RequestBody Generatedalwaystestnoupdates generatedalwaystestnoupdates) {
        ResponseSimple responseSimple = new ResponseSimpleImpl();
        try {
            int rows =  generatedalwaystestnoupdatesImpl.insert(generatedalwaystestnoupdates);
            if (rows<1) {
                responseSimple.setMessage("添加记录失败！");
                 }else{
                    responseSimple.addAttribute("rows",String.valueOf(rows));
                    responseSimple.setMessage("添加成功！");
                }
            }catch(Exception e){
                setExceptionResponse(responseSimple,e);
            }
            return responseSimple;
    }

    /** 根据主键更新实体对象 */
    @ApiOperation(value = "更新一条记录",notes = "根据主键更新实体对象")
    @PutMapping(value = "generatedalwaystestnoupdatesImpl")
    public ResponseSimple updateGeneratedalwaystestnoupdates(@RequestBody Generatedalwaystestnoupdates generatedalwaystestnoupdates) {
        ResponseSimple responseSimple = new ResponseSimpleImpl();
        try {
            int rows =  generatedalwaystestnoupdatesImpl.updateByPrimaryKey(generatedalwaystestnoupdates);
            responseSimple.addAttribute("rows",String.valueOf(rows));
        }catch(Exception e){
            setExceptionResponse(responseSimple,e);
        }
        return responseSimple;
    }

    /** 删除一条记录 */
    @ApiOperation(value = "单条记录删除",notes = "根据给定的id删除一条记录")
    @DeleteMapping(value = "generatedalwaystestnoupdatesImpl/{id}")
    public ResponseSimple deleteGeneratedalwaystestnoupdates(@PathVariable String id) {
        ResponseSimple responseSimple = new ResponseSimpleImpl();
        try {
            int rows =  generatedalwaystestnoupdatesImpl.deleteByPrimaryKey(id);
            responseSimple.addAttribute("rows",String.valueOf(rows));
        }catch(Exception e){
            setExceptionResponse(responseSimple,e);
        }
        return responseSimple;
    }
}